# Webstore - A simple Rest API application

## Dependencies

- Java 8
- Maven
- MongoDB

## Assumptions

1. No entities exist initially and have to be created on running the application.
2. Customer entity is created before Order entity.

## Important

- Please change the database properties according to your database as provided in the "application.properties" file inside "src/main/resources/" before running the application.

## Instructions for running the project

1.  Clone the repository.
2.  Open the terminal or git bash.
3.  Change the directory to the project folder using the following command:

        cd webstore

4.  Type the following to build the jar file:

        mvn package

5.  In order to run the project, run the following command:

        java -jar target/webstore-0.0.1-SNAPSHOT.jar

6.  After running the project, you can access the following endpoints using Postman/Curl:

    i. POST Request to create a new customer:

        localhost:5000/customers/

    Request Body: JSON

    Example Request Body:

        {
            "name": "Peter Parker",
            "address": "Insinoorinkatu 34, Tampere, Finland",
            "email": "peter127@gmail.com",
            "phone": "+358417252633"
        }

    Expected Response:

        {
            "_id": "5ee89d904dea2c2f46b59220",
            "name": "Peter Parker",
            "address": "Insinoorinkatu 34, Tampere, Finland",
            "email": "peter127@gmail.com",
            "phone": "+358417252633"
        }

    \*\* Here \_id represents the customer id and is auto generated by MongoDB.

    ii. GET Request to get the information of all the customers

        localhost:5000/customers/

    Expected Response:

        [
            {
                "_id": "5ee899435f67e8595e62002b",
                "name": "Natalia Finson",
                "address": "Insinoorinkatu 23, Tampere, Finland",
                "email": "natalia.finson34@gmail.com",
                "phone": "+358748566521"
            },
            {
                "_id": "5ee89d904dea2c2f46b59220",
                "name": "Peter Parker",
                "address": "Insinoorinkatu 34, Tampere, Finland",
                "email": "peter127@gmail.com",
                "phone": "+358417252633"
            }
        ]

    iii. GET Request to get the information of a customer by customer id:

        localhost:5000/customers/5ee89d904dea2c2f46b59220

    Expected Response:

        {
            "_id": "5ee89d904dea2c2f46b59220",
            "name": "Peter Parker",
            "address": "Insinoorinkatu 34, Tampere, Finland",
            "email": "peter127@gmail.com",
            "phone": "+358417252633"
        }

    iv. PUT Request to update the information of a customer using the customer id:

        localhost:5000/customers/5ee89d904dea2c2f46b59220

    Request Body: JSON

    Example Request Body:

        {
            "name": "Peter J. Parker",
            "address": "Insinoorinkatu 34, Tampere, Finland",
            "email": "peter.j.127@gmail.com",
            "phone": "+358417252633"
        }

    Expected Response:

        {
            "_id": "5ee89d904dea2c2f46b59220",
            "name": "Peter J. Parker",
            "address": "Insinoorinkatu 34, Tampere, Finland",
            "email": "peter.j.127@gmail.com",
            "phone": "+358417252633"
        }

    v. POST Request to create an order (expected that the customer id already exists):

        localhost:5000/orders/

    Response Body: JSON

    Example Request Body:

        {
            "customerId": "5ee89d904dea2c2f46b59220",
            "bookTitle": "Harry Potter and the Goblet of Fire",
            "bookType": "Fiction",
            "bookAuthor": "J. K. Rowling",
            "bookDescription": "Harry Potter, a wizard in his fourth year at Hogwarts School of Witchcraft and Wizardry, and the mystery surrounding the entry of Harry's name into the Triwizard Tournament, in which he is forced to compete."
        }

    Expected Response:

        {
            "_id": "5ee8a1484dea2c2f46b59221",
            "customerId": "5ee89d904dea2c2f46b59220",
            "bookTitle": "Harry Potter and the Goblet of Fire",
            "bookType": "Fiction",
            "bookAuthor": "J. K. Rowling",
            "bookDescription": "Harry Potter, a wizard in his fourth year at Hogwarts School of Witchcraft and Wizardry, and the mystery surrounding the entry of Harry's name into the Triwizard Tournament, in which he is forced to compete.",
            "orderTime": "2020-06-16T10:39:04.191Z"
        }

    \*\* Here \_id represents the order id and is auto generated by MongoDB.

    vi. DELETE Request using order id:

        localhost:5000/orders/5ee8a1484dea2c2f46b59221

    Expected Response: Status 200 OK

    vii. GET Request to get the list of orders using customer id:

        localhost:5000/orders/5ee899435f67e8595e62002b

    Expected Response:

        [
            {
                "_id": "5ee8a2514dea2c2f46b59223",
                "customerId": "5ee899435f67e8595e62002b",
                "bookTitle": "Harry Potter and the Prisoner of Azkaban",
                "bookType": "Fiction",
                "bookAuthor": "J. K. Rowling",
                "bookDescription": "Harry Potter, a young wizard, in his third year at Hogwarts School of Witchcraft and Wizardry. Along with friends Ronald Weasley and Hermione Granger, Harry investigates Sirius Black, an escaped prisoner from Azkaban, the wizard prison, believed to be one of Lord Voldemort's old allies.",
                "orderTime": "2020-06-16T11:16:50.457Z"
            },
            {
                "_id": "5ee8a2a24dea2c2f46b59225",
                "customerId": "5ee899435f67e8595e62002b",
                "bookTitle": "Harry Potter and the Chamber of Secrets",
                "bookType": "Fiction",
                "bookAuthor": "J. K. Rowling",
                "bookDescription": "Harry's second year at Hogwarts School of Witchcraft and Wizardry, during which a series of messages on the walls of the school's corridors warn that the 'Chamber of Secrets' has been opened and that the 'heir of Slytherin' would kill all pupils who do not come from all-magical families. These threats are found after attacks that leave residents of the school petrified. Throughout the year, Harry and his friends Ron and Hermione investigate the attacks.",
                "orderTime": "2020-06-16T11:12:43.457Z"
            }
        ]

    viii. GET Request to get the list of all orders:

        localhost:5000/orders/

    Expected Response:

        [
            {
                "_id": "5ee8a2384dea2c2f46b59222",
                "customerId": "5ee89d904dea2c2f46b59220",
                "bookTitle": "Harry Potter and the Prisoner of Azkaban",
                "bookType": "Fiction",
                "bookAuthor": "J. K. Rowling",
                "bookDescription": "Harry Potter, a young wizard, in his third year at Hogwarts School of Witchcraft and Wizardry. Along with friends Ronald Weasley and Hermione Granger, Harry investigates Sirius Black, an escaped prisoner from Azkaban, the wizard prison, believed to be one of Lord Voldemort's old allies.",
                "orderTime": "2020-06-16T10:39:04.191Z"

            },
            {
                "_id": "5ee8a2514dea2c2f46b59223",
                "customerId": "5ee899435f67e8595e62002b",
                "bookTitle": "Harry Potter and the Prisoner of Azkaban",
                "bookType": "Fiction",
                "bookAuthor": "J. K. Rowling",
                "bookDescription": "Harry Potter, a young wizard, in his third year at Hogwarts School of Witchcraft and Wizardry. Along with friends Ronald Weasley and Hermione Granger, Harry investigates Sirius Black, an escaped prisoner from Azkaban, the wizard prison, believed to be one of Lord Voldemort's old allies.",
                "orderTime": "2020-06-16T11:16:50.457Z"
            },
            {
                "_id": "5ee8a2a24dea2c2f46b59225",
                "customerId": "5ee899435f67e8595e62002b",
                "bookTitle": "Harry Potter and the Chamber of Secrets",
                "bookType": "Fiction",
                "bookAuthor": "J. K. Rowling",
                "bookDescription": "Harry's second year at Hogwarts School of Witchcraft and Wizardry, during which a series of messages on the walls of the school's corridors warn that the 'Chamber of Secrets' has been opened and that the 'heir of Slytherin' would kill all pupils who do not come from all-magical families. These threats are found after attacks that leave residents of the school petrified. Throughout the year, Harry and his friends Ron and Hermione investigate the attacks.",
                "orderTime": "2020-06-16T11:12:43.457Z"
            }
        ]

7.  In order to exit the application, press CTRL+C from the keyboard in the terminal where the application is running.

---
